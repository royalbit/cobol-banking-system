# Asimov Protocol - Session Bootstrap
# https://github.com/royalbit/asimov-protocol

identity:
  project: "COBOL Banking System"
  tagline: "Legacy mainframe modernization demo"
  version: "0.1.0"

mission:
  problem: "Billions of lines of COBOL still run critical financial infrastructure"
  solution: "AI-assisted migration from COBOL to Java Spring Boot with behavioral equivalence"
  principles:
    - "Preserve exact business logic during migration"
    - "Test-driven: prove equivalence through comprehensive testing"
    - "Incremental migration - one module at a time"

# ═══════════════════════════════════════════════════════════════════════════════
# ETHICS - Humanist Mode (HIGHEST PRIORITY)
# ═══════════════════════════════════════════════════════════════════════════════
# See: ethics.yaml for full configuration
ethics:
  status: "REQUIRED"
  principles:
    do_no_harm:
      financial: true   # Critical: banking system
      physical: true
      privacy: true     # Customer data
      deception: true
    transparency_over_velocity: true
  human_veto: "human vetoes this session"
  motto: "Build tools that help. Never tools that harm."

# ═══════════════════════════════════════════════════════════════════════════════
# GREEN CODING - Zero tokens. Zero emissions.
# ═══════════════════════════════════════════════════════════════════════════════
green_coding:
  philosophy: "Local-first tools over cloud AI for routine tasks"
  practices:
    - "Use CLI tools for validation, linting, formatting"
    - "Reserve AI for complex reasoning tasks"
    - "Prefer compiled languages or efficient runtimes"
    - "Minimize dependencies and binary sizes"
  why:
    - "Local validation: $0 and ~0.002g CO₂"
    - "Cloud AI validation: $0.02+ and ~0.5g CO₂"
    - "99.6% carbon reduction with local tools"

# ═══════════════════════════════════════════════════════════════════════════════
# MIGRATION CONTEXT
# ═══════════════════════════════════════════════════════════════════════════════
migration:
  source:
    language: "COBOL (GnuCOBOL)"
    storage: "Flat files (.DAT)"
    structure: "PROCEDURE DIVISION / WORKING-STORAGE"
  target:
    language: "Java 17"
    framework: "Spring Boot"
    storage: "H2/JPA"
    structure: "Service classes / Domain models"

files:
  source:
    - "BANKACCT.cob - Main COBOL program (banking logic)"
    - "CUSTOMERS.DAT - Customer account records"
    - "TRANSACTIONS.DAT - Transaction audit log"
  scripts:
    - "setup.sh - Environment setup"
    - "run.sh - Compile and execute COBOL"
  docs:
    - "README.md - Project documentation"

features:
  core:
    - "Account Management: Create accounts with unique IDs"
    - "Account Viewing: Display all accounts with status"
    - "Deposits/Withdrawals: With balance validation"
    - "Account Status: Soft delete (mark inactive)"
  advanced:
    - "Transaction Logging: Complete audit trail"
    - "Mini Statements: Last 5 transactions"
    - "Interest Calculation: 2% annual for savings"
    - "Data Validation: Overdraft prevention"

session:
  start:
    - "Read .asimov/warmup.yaml"
    - "Read .asimov/sprint.yaml"
    - "git status"
  during:
    - "Track progress in sprint.yaml"
    - "Test frequently - prove equivalence"
    - "One module at a time"
  end:
    - "All tests pass"
    - "Update roadmap.yaml"

quality:
  tests: "Behavioral equivalence tests must pass"
  lint: "Java: checkstyle, COBOL: syntax validation"
  coverage: "Critical paths: deposits, withdrawals, interest"

style:
  code:
    - "Java: Google Java Style Guide"
    - "COBOL: Traditional mainframe conventions"
  docs:
    - "Keep documentation concise"
    - "Document migration decisions in ADRs"
