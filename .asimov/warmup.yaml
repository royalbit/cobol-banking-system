# Asimov Protocol - Project Context
# https://github.com/royalbit/asimov-protocol

# ═══════════════════════════════════════════════════════════════════════════════
# PROTOCOL FILES (load these at session start)
# ═══════════════════════════════════════════════════════════════════════════════
protocols:
  required:
    - ".asimov/asimov.yaml"      # Three Laws of Robotics (ethics foundation)
    - ".asimov/green.yaml"       # Sustainability (local-first tools)
    - ".asimov/sycophancy.yaml"  # Anti-sycophancy (truth over comfort)
  tracking:
    - ".asimov/roadmap.yaml"     # Version milestones
    - ".asimov/sprint.yaml"      # Current sprint status

identity:
  project: "COBOL Banking System"
  tagline: "Legacy mainframe modernization demo"
  version: "0.3.0"

mission:
  problem: "Billions of lines of COBOL still run critical financial infrastructure"
  solution: "AI-assisted migration from COBOL to Java Spring Boot with behavioral equivalence"
  principles:
    - "Preserve exact business logic during migration"
    - "Test-driven: prove equivalence through comprehensive testing"
    - "Incremental migration - one module at a time"

# ═══════════════════════════════════════════════════════════════════════════════
# ENVIRONMENT
# ═══════════════════════════════════════════════════════════════════════════════
environment:
  java:
    version: "17"
    note: "Java 17 is the system default (openjdk@17 via Homebrew)"
  gradle:
    version: "8.5"
    command: "./gradlew"
  plantuml:
    server: "https://plantuml.crypto1.ca"
    note: "Use remote server for diagrams (no local plantuml installed)"

# ═══════════════════════════════════════════════════════════════════════════════
# MIGRATION CONTEXT
# ═══════════════════════════════════════════════════════════════════════════════
migration:
  source:
    language: "COBOL (GnuCOBOL)"
    storage: "Flat files (.DAT)"
    structure: "PROCEDURE DIVISION / WORKING-STORAGE"
  target:
    language: "Java 17"
    framework: "Spring Boot 3.x"
    storage: "H2/JPA"
    structure: "Service classes / Domain models"

files:
  cobol:
    - "BANKACCT.cob - Main COBOL program (banking logic)"
    - "CUSTOMERS.DAT - Customer account records"
    - "TRANSACTIONS.DAT - Transaction audit log"
  java:
    - "java-banking/src/main/java/com/royalbit/banking/"
    - "java-banking/src/test/java/com/royalbit/banking/"
  scripts:
    - "setup.sh - Environment setup"
    - "run.sh - Compile and execute COBOL"

# ═══════════════════════════════════════════════════════════════════════════════
# COBOL FEATURES TO MIGRATE
# ═══════════════════════════════════════════════════════════════════════════════
features:
  implemented:
    - "Account Management: Create accounts with unique IDs"
    - "Account Viewing: Display all accounts with status"
    - "Deposits/Withdrawals: With balance validation"
    - "Account Status: Soft delete (mark inactive)"
    - "Transaction Logging: Complete audit trail"
    - "Mini Statements: Last 5 transactions"
    - "Interest Calculation: 2% annual for savings"
  remaining:
    - "REST API endpoints (v1.0.0)"
    - "Database migration to PostgreSQL (v1.0.0)"

# ═══════════════════════════════════════════════════════════════════════════════
# QUALITY STANDARDS
# ═══════════════════════════════════════════════════════════════════════════════
quality:
  tests: "./gradlew test (74 tests, all must pass)"
  style: "Java: Google Style Guide, COBOL: Traditional mainframe"
